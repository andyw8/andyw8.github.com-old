
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Smoke Tests Are A Quick Win - Andy Waite</title>
  <meta name="author" content="Andy Waite">

  
  <meta name="description" content="It can be difficult to know where to start when adding automated integration tests to a legacy app. One of the easiest ways to get started an add &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://andyw8.github.com/blog/2012/06/02/smoke-tests-are-a-quick-win">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Andy Waite" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Andy Waite</a></h1>
  
    <h2>Ruby Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:andyw8.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Smoke Tests Are a Quick Win</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T15:11:00+01:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>It can be difficult to know where to start when adding automated integration tests to a legacy app. One of the easiest ways to get started an add value to your tests is with a smoke test.</p>

<p>You can often have a situation where all the project&#8217;s unit tests are passing, but something else is causes a breakage.</p>

<p>The smoke test should be part of your continous integration build, and be triggered once your core build job passes successfully (i.e. the code compiles and the unit tests pass). You may also want to run them periodically.</p>

<p>The smoke tests should run very quickly in order to give rapid feedback. Aim for under 60 seconds.</p>

<p>The most basic should simply verify that the core areas of your site load successfully. By successfully, I just mean that the server runs an HTTP status code in the 200 range.</p>

<p>A good way to identify on which pages to check is to look at your routes configuration. The most likely pages you&#8217;ll want to check will be &#8216;index&#8217; and &#8216;show&#8217; pages. Test pages which modify date will probably be a bit more involved.</p>

<p>If you use Capybara then this very easy. Just call #visit, since Capybara&#8217;s default behaviour is to raise and exception for a 400 or 500 status code.</p>

<p>Other things you can easily do in the smoke tests are:</p>

<p>Your smoke tests should be triggered automatically once your build passes.</p>

<ul>
<li>Verify that the page is valid HTML</li>
<li>Verify there are no broken images, missing JavaScript, or CSS files</li>
<li>Verify that some basic text content appears on the page</li>
</ul>


<hr />

<p>Feature: Smoke tests</p>

<p>  Scenario Outline:</p>

<pre><code>When I visit the &lt;page&gt; page
Then the page load should succeed
</code></pre>

<ul>
<li>if a page return a non-2xx status code, an error will be thrown</li>
</ul>


<p>Tie this into your Continous Integration system.</p>

<p>Can also run it on a scheduled basis. This can be useful if your app has a high number of dependencies which may change from underneath your feet.</p>

<p>Can run against all environments.</p>

<p>If a tester, your boss, or a customer gets a broken page, you looks like an idiot. There&#8217;s no excuse.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andy Waite</span></span>

      








  


<time datetime="2012-06-02T15:11:00+01:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/testing/'>testing</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://andyw8.github.com/blog/2012/06/02/smoke-tests-are-a-quick-win/" data-via="andyw8" data-counturl="http://andyw8.github.com/blog/2012/06/02/smoke-tests-are-a-quick-win/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/05/28/rubymotion-app-template/" title="Previous Post: RubyMotion App Template">&laquo; RubyMotion App Template</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/06/28/top-10-development-books/" title="Next Post: Top 10 Development Books">Top 10 Development Books &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/08/08/how-to-easily-delete-a-large-amazon-s3-bucket/">How to easily delete a large Amazon S3 Bucket</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/12/general-knowledge-domains-for-every-developer/">General Knowledge Domains for Every Developer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/28/top-10-development-books/">Top 10 Development Books</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/02/smoke-tests-are-a-quick-win/">Smoke Tests Are A Quick Win</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/28/rubymotion-app-template/">RubyMotion App Template</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/andyw8">@andyw8</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'andyw8',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("andyw8", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/andyw8" class="twitter-follow-button" data-show-count="false">Follow @andyw8</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Andy Waite -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
