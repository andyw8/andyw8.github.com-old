
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Andy Waite</title>
  <meta name="author" content="Andy Waite">

  
  <meta name="description" content="I recently had to delete an S3 bucket containing over 200,000 objects. S3 prevents deletion of non-empty buckets, and deleting this many objects is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://andyw8.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Andy Waite" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Andy Waite</a></h1>
  
    <h2>Ruby Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:andyw8.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/08/how-to-easily-delete-a-large-amazon-s3-bucket/">How to Easily Delete a Large Amazon S3 Bucket</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-08T14:32:00+01:00" pubdate data-updated="true">Aug 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently had to delete an S3 bucket containing over 200,000 objects. S3 prevents deletion of non-empty buckets, and deleting this many objects is virtually impossible using any GUI, and I had difficulty finding an reasonable API approach (support for [multi-object delete])(http://aws.amazon.com/about-aws/whats-new/2011/12/07/amazon-s3-announces-multi-object-delete/) still seems limited).</p>

<p>If you don&#8217;t mind waiting 24 hours for your bucket to be cleared, there&#8217;s a very simple solution:</p>

<ul>
<li>Log into the <a href="https://console.aws.amazon.com/s3/home">S3 Management Console</a></li>
<li>Select the bucket you want to clear</li>
<li>Select Properties from the toolbar</li>
<li>Click the Lifecycle tab in the Properties panel</li>
<li>Add a rule with no prefix and expiration of 1 day</li>
<li>Save the rule</li>
</ul>


<p>If you check back 24 hours later you should find all your objects have been deleted and you can delete the empty bucket.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/12/general-knowledge-domains-for-every-developer/">General Knowledge Domains for Every Developer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-12T11:07:00+01:00" pubdate data-updated="true">Jul 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In almost every software project, developers will need to have some domain knowledge. This will either be something they have previously learned, or more commonly, knowledge they pick up during the project.</p>

<p>However, there are some domains which are so common that I believe every developer should have a fundamental understanding of them. This will help to avoid beginner mistakes.</p>

<h2>Money</h2>

<h2>Date &amp; Times</h2>

<h2>People, Culture, Language</h2>

<h2>Geography</h2>

<h2>Mathematics</h2>

<p>Set logic, boolean logic</p>

<h2>Legal</h2>

<h2>Statistics</h2>

<h2>Graphic Design</h2>

<p>Tufte?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/28/top-10-development-books/">Top 10 Development Books</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-28T10:48:00+01:00" pubdate data-updated="true">Jun 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Round education. Not language specific.</p>

<h2>1 Refactoring</h2>

<p>The original Refactoring book was in Java. This is almost just a re-write in Ruby, with a few changes. It&#8217;s authorised by the original author, Martin Fowler, and the layout is virtually identical.</p>

<p>Alternatives:</p>

<h2>Design patterns</h2>

<p>The original Design Patterns book is a heavy read.</p>

<p>Alternatives: Head First Design Patterns</p>

<h2>2 Clean Code, Robert Martin</h2>

<p>skp some parts:</p>

<h2>3 The Art of Agile, James Shore</h2>

<h2>Practical Object Oriented Design in Ruby</h2>

<p>Alternatives: Goose</p>

<h2>4 Clean coder / pass prog / prag prog</h2>

<p>It&#8217;s actually been a long time since I read The Pragmatic Programmer but it had a massive effect on me.</p>

<h2>5 Working Effectively with Legacy Code</h2>

<h2>Testing?</h2>

<h2>6 Continuous Delivery</h2>

<p>This book is like an encyclopedia of modern software process best practices.
7
Design Of Everyday Things</p>

<p>What&#8217;s missing?</p>

<p>Practical Object Oriented Programming in Ruby</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/09/single-responsibility-principle-violations-in-ios/">Single Responsibility Principle Violations in iOS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-09T17:45:00+01:00" pubdate data-updated="true">Jun 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Violation of SOLID&#8217;s SRP are often found in iOS.</p>

<p>XCode even have a mechanism to deal with massive classes - pragma marks.</p>

<p>The idea is that you can categorise methods so there are easier to find.</p>

<p>This is a bad idea.</p>

<p>If you class is so big that you need to do this, it&#8217;s a sign your design is bad.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/02/smoke-tests-are-a-quick-win/">Smoke Tests Are a Quick Win</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-02T15:11:00+01:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It can be difficult to know where to start when adding automated integration tests to a legacy app. One of the easiest ways to get started an add value to your tests is with a smoke test.</p>

<p>You can often have a situation where all the project&#8217;s unit tests are passing, but something else is causes a breakage.</p>

<p>The smoke test should be part of your continous integration build, and be triggered once your core build job passes successfully (i.e. the code compiles and the unit tests pass). You may also want to run them periodically.</p>

<p>The smoke tests should run very quickly in order to give rapid feedback. Aim for under 60 seconds.</p>

<p>The most basic should simply verify that the core areas of your site load successfully. By successfully, I just mean that the server runs an HTTP status code in the 200 range.</p>

<p>A good way to identify on which pages to check is to look at your routes configuration. The most likely pages you&#8217;ll want to check will be &#8216;index&#8217; and &#8216;show&#8217; pages. Test pages which modify date will probably be a bit more involved.</p>

<p>If you use Capybara then this very easy. Just call #visit, since Capybara&#8217;s default behaviour is to raise and exception for a 400 or 500 status code.</p>

<p>Other things you can easily do in the smoke tests are:</p>

<p>Your smoke tests should be triggered automatically once your build passes.</p>

<ul>
<li>Verify that the page is valid HTML</li>
<li>Verify there are no broken images, missing JavaScript, or CSS files</li>
<li>Verify that some basic text content appears on the page</li>
</ul>


<hr />

<p>Feature: Smoke tests</p>

<p>  Scenario Outline:</p>

<pre><code>When I visit the &lt;page&gt; page
Then the page load should succeed
</code></pre>

<ul>
<li>if a page return a non-2xx status code, an error will be thrown</li>
</ul>


<p>Tie this into your Continous Integration system.</p>

<p>Can also run it on a scheduled basis. This can be useful if your app has a high number of dependencies which may change from underneath your feet.</p>

<p>Can run against all environments.</p>

<p>If a tester, your boss, or a customer gets a broken page, you looks like an idiot. There&#8217;s no excuse.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/29/first-experiences-with-rubymotion/">A Few Weeks With RubyMotion</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-29T19:13:00+01:00" pubdate data-updated="true">May 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Background</h2>

<p>I was fairly early the iOS party. I started learning Cocoa and Objective-C in 2008, and published my first app in February 2009.</p>

<p>After a few reasonably successful apps, I began to feel the platform was dragging me down. It seemed hours could be wasted fighting with provisioning, memory leaks and making sense of the masses of documentation. It wasn&#8217;t fun any more.</p>

<p>At the same time, I was gaining a better undestanding off TDD and wanted to apply that to my iOS code, but testing in the iOS world was virtually unheard of. Apple&#8217;s own sample code never had tests. In fact, one of the first decent iOS testing frameworks came from Google rather not Apple.</p>

<p>I imagine it felt like the early days of the Web - very small companies and individuals exploring new ideas, with lots of frustrating because of the immature tools, but also lots of satisfaction when an app done well.</p>

<h2>Progress</h2>

<p>I always felt that using Objective-C was a temporary move for Apple. Bear in mind that the original intention was that iOS would run web apps, not native apps. Objective-C was used to build the apps that came the iPhone, but wasn&#8217;t intended for a wider audience. It&#8217;s just too low level.</p>

<p>Apple&#8217;s hands were tied - they knew developers wanted to build native apps, but there&#8217;s wasn&#8217;t a good solution.</p>

<p>A while later, Apple signalled a strong interest in supporting Ruby by getting behind the MacRuby platform and hiring Laurent Sansonetti. The Mac OS store launched and apps written in MacRuby were permitted. LLVM came along and seemed to simplify memory management. It seemed support for Ruby was just around the corner.</p>

<h2>Enter RubyMotion</h2>

<p>RubyMotion was a big surprise because it didn&#8217;t come from Apple.</p>

<h2>How It Works</h2>

<p>RubyMotion doesn&#8217;t do any &#8216;tricks&#8217;. It doesn&#8217;t translate Ruby into Objective-C. It doesn&#8217;t compile to some native-looking web app. It compiles to genuine LLVM bytecode, so in theory is distinquishable from an app created in Objective-C.</p>

<p>You have full access to all the Cocoa frameworks</p>

<h2>Code Examples</h2>

<p>Objective-C is known for it&#8217;s ununsual syntax and lengthy method names. While neither of these is unsormountable, they are offputting for Ruby developers accustomed to a clean syntax.</p>

<p>If you want to create a mutable array in Objective C, it would look something like this (note the nil required to terminate the list).</p>

<pre><code>NSMutableArray *items = [[NSMutableArray alloc] initWithObjects:@"a", @"b", @"c", nil];
</code></pre>

<p>The same code in Ruby would be as short as:</p>

<pre><code>items = %w{a b c}
</code></pre>

<p>To add an item to an existing array:</p>

<pre><code>[items addObject:@"d"];
</code></pre>

<p>The same in Ruby:</p>

<pre><code>items &lt;&lt; 'd'
</code></pre>

<h2>Documentation</h2>

<p>RubyMotion developers will need to be able to understand Apple&#8217;s framework documentation and how to adapt it to RubyMotion.</p>

<h2>Updates</h2>

<p>Each time the RubyMotion rake command is used, it checks for a new version of RubyMotion. It&#8217;s a bit of an illegent approach but I expect it will be improved. At the moment there are new updates about twice a week. There have been a few releases which broke previously working apps, but these have been resolved quickly.</p>

<h2>Development Environment</h2>

<p>It&#8217;s interesting that RubyMotion completely bypasses the XCode IDE and promote a more traditional, command-line approach to building apps.</p>

<p>TextMate/Sublime Text</p>

<h2>Not Quite Ruby</h2>

<p>RubyMotion has to add some additional syntax to Ruby to support the Obj-C naming conventions. Unfortunately this can make it&#8217;s code unparsable by standard versions of Ruby, meaning many Ruby tools such as ruby_best_practices, flog, and RSpec aren&#8217;t directly usable.</p>

<h2>Community</h2>

<p>The core community is a fairly active Google Groups mailing list. Oddly it&#8217;s only viewable to members but there doesn&#8217;t seem to be any restrictions on who can join.</p>

<p>Already, the community is creating projects which embrace RubyMotion. There are example applications on using RubyMotion with many common frameworks such as Parse and RestKit. There are some attempts at abstracting away the ugly parts of Cocoa and using more Ruby idioms. And there is tool support, such as a TextMate package.</p>

<p>There is a <a href="http://rubymotionweekly.com/">weekly email newsletter</a> which summarises the activity in the Google Group and elsewhere.</p>

<p>StackOverflow</p>

<h2>Testing</h2>

<p>It&#8217;s encouraging to see that creating a new project creates a spec folder with a starting point for tests. However, none of the sample applications have actual tests.</p>

<p>RubyMotion apparently uses <a href="https://github.com/alloy/MacBacon">MacBacon</a>, which is a clone of RSpec for MacRuby. I&#8217;d much rather RSpec though so have been experimenting with an way to do that.</p>

<h2>Conclusion</h2>

<p>RubyMotion has far exceeded my expectations so far. It&#8217;s giving me the kick I needed to get back into iOS development. I&#8217;m reading through (The Big Nerd Ranch iOS)[http://www.bignerdranch.com/book/ios_programming_the_big_nerd_ranch_guide_rd_edition_] to refamiliarise myself with the frameworks and platform.</p>

<p>If you&#8217;re an experienced Obj-C and Ruby developer, you&#8217;ll be up-to-speed in about a day.</p>

<p>If you&#8217;re new to iOS development the you can&#8217;t really avoid learning the Objective-C fundamentals, but once you get past that, you can happily code away in Ruby.</p>

<p>Footnotes</p>

<ul>
<li>parse</li>
<li>cocoapods</li>
<li>restkit</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/28/rubymotion-app-template/">RubyMotion App Template</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-28T22:17:00+01:00" pubdate data-updated="true">May 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been trying out <a href="http://www.rubymotion.com/">RubyMotion</a> lately, and I&#8217;ve created a simple template project with some sensible defaults to make it quick and easy to start a new app:</p>

<ul>
<li>Folders for models, views, controllers and vendored frameworks to encourage a Rails-esque layout convention</li>
<li>Spec folder layout to mirror the app folder</li>
<li>Support for <a href="http://www.rubymotion.com/developer-center/articles/testflight/">TestFlight</a></li>
<li>Support for <a href="http://www.rubymotion.com/developer-center/articles/cocoapods/">CocoaPods</a></li>
<li>Default values for app version and identifier</li>
<li>Placeholders for configuring icons and device families</li>
</ul>


<p>You can find it at <a href="https://github.com/andyw8/rubymotion_app_template">github.com/andyw8/rubymotion_app_template</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/19/a-few-ipad-app-recommendations/">Some Useful iPad Paid Apps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-19T15:34:00+01:00" pubdate data-updated="true">Apr 19<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I finally caved in bought an iPad. Here are some of app which I was happy to pay for:</p>

<h1><a href="http://itunes.apple.com/gb/app/goodreader-for-ipad/id363448914?mt=8">GoodReader</a> £2.99</h1>

<p>PDF reader with can sync with a Dropbox folder. It&#8217;s great having access to my full book collection from anywhere.</p>

<h1><a href="http://itunes.apple.com/gb/app/feeddler-rss-reader-pro/id365710282?mt=8">Feedler</a> £2.99</h1>

<p>An RSS reader which syncs with Google Reader and has off-line support.</p>

<h1><a href="http://itunes.apple.com/gb/app/buzz-player-hd/id389744550?mt=8">BUZZ Player HD</a> £2.99</h1>

<p>A video player with a decent UI. It can stream from network shares so I can play videos from my NAS. At the moment I&#8217;m using it to watch the Destroy All Software screencasts on the way to work.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/18/first-post-with-octopress/">First Post With Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-18T23:37:00+01:00" pubdate data-updated="true">Apr 18<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hello world!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/08/08/how-to-easily-delete-a-large-amazon-s3-bucket/">How to easily delete a large Amazon S3 Bucket</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/12/general-knowledge-domains-for-every-developer/">General Knowledge Domains for Every Developer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/28/top-10-development-books/">Top 10 Development Books</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/09/single-responsibility-principle-violations-in-ios/">Single Responsibility Principle Violations in iOS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/02/smoke-tests-are-a-quick-win/">Smoke Tests Are A Quick Win</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/andyw8">@andyw8</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'andyw8',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("andyw8", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/andyw8" class="twitter-follow-button" data-show-count="false">Follow @andyw8</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Andy Waite -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
